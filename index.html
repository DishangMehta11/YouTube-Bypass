<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<title>Sasta YouTube</title>
		<meta name="viewport" content="width=device-width,initial-scale=1" />
		<meta name="description" content="" />
		<link rel="icon" href="favicon.png" />
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
			crossorigin="anonymous"
		/>
	</head>

	<body
		style="
			font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande',
				'Lucida Sans', Arial, sans-serif;
		"
	>
		<div class="container my-4 d-flex flex-column align-items-center">
			<div class="mb-4 form-group w-75">
				<label for="url" class="form-label fs-3">Enter URL:</label>
				<input
					type="text"
					class="form-control"
					id="url"
					aria-describedby="emailHelp"
				/><br />
				<button onclick="onClick()" class="btn btn-primary w-100">
					Submit
				</button>
			</div>
			<div class="d-flex justify-content-center">
				<iframe
					id="frame"
					width="1000"
					height="562"
					title="YouTube video player"
					frameborder="0"
					allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
					allowfullscreen
				></iframe>
			</div>
		</div>

		<!-- https://youtube.com/watch?v=eV3Ch2lEr9Q -->
		<!-- https://youtu.be/eV3Ch2lEr9Q -->

		<script>
			function onClick() {
				let url = document.getElementById("url").value;
				document.getElementById("frame").src = url;
				elements = url.split("/");
				console.log(elements);
				const last = elements[elements.length - 1];

				// While sharing the link
				let actual = "";
				if (last.startsWith("watch?v=")) {
					actual = last.slice(8);
					frame.src = "https://www.youtube.com/embed/" + actual;
				} else {
					frame.src = "https://www.youtube.com/embed/" + last;
				}
				// console.log("actual --> " + actual);
				// url = url.split("?si=")[0];
				// url = url.slice(17);
				// let frame = document.getElementById("frame");
				// frame.src = "https://www.youtube.com/embed/" + url;

				// console.log(frame.src);
			}
		</script>
	</body>
</html>
